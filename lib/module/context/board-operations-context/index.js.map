{"version":3,"names":["React","createContext","useCallback","useImperativeHandle","useMemo","useState","useSharedValue","getChessboardState","useReversePiecePosition","useSetBoard","useBoardPromotion","usePieceRefs","useChessEngine","useChessboardProps","BoardOperationsContext","BoardOperationsContextProviderComponent","forwardRef","children","controller","contextController","ref","chess","setBoard","pieceSize","onMove","onChessboardMoveCallback","playersColor","toTranslation","calculatePosition","isWhitePiecePosition","selectableSquares","selectedSquare","showPromotionDialog","pieceRefs","isPieceGestureInProgress","setIsPieceGestureInProgress","turn","reset","value","resetAllHighlightedSquares","isPromoting","from","to","includes","val","x","Math","floor","y","calculatedX","calculatedY","piece","board","type","PAWN","color","WHITE","BLACK","moveProgrammatically","promotionPiece","move","promotion","checkIsCheckState","checkIsCheckMateState","state","in_promotion","lastMove","highlight","square","chessTurn","current","enable","onSelect","onSelectPiece","validSquares","moves","map","splittedSquare","split","length","splittedSquareValue","moveTo","createElement","Provider","BoardOperationsContextProvider","memo"],"sourceRoot":"../../../../src","sources":["context/board-operations-context/index.tsx"],"mappings":"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"}
