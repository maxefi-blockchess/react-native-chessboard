{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNativeGestureHandler","_reactNativeReanimated","_hooks","_hooks2","_hooks3","_hooks4","_hooks5","_notation","_visualPiece","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","Piece","React","memo","forwardRef","id","startPosition","square","size","ref","chess","useChessEngine","refs","usePieceRefs","pieceEnabled","useSharedValue","isPromoting","useBoardPromotion","onSelectPiece","onMove","selectedSquare","turn","isPieceGestureInProgress","setIsPieceGestureInProgress","useBoardOperations","isPieceActive","setIsPieceActive","useState","pieceSize","durations","move","moveDuration","gestureEnabled","gestureEnabledFromChessboardProps","playersColor","useChessboardProps","useDerivedValue","value","charAt","toPosition","toTranslation","useReversePiecePosition","isGestureActive","offsetX","offsetY","borderColor","translateX","x","translateY","y","validateMove","useCallback","from","to","moves","verbose","find","m","wrappedOnMoveForJSThread","moveTo","Promise","resolve","withTiming","duration","isFinished","runOnJS","undefined","movePiece","useImperativeHandle","enable","active","onStartTap","globalMoveTo","current","handleOnBegin","currentSquare","previousTappedSquare","gestureProgress","Gesture","Pan","enabled","onBegin","onStart","onUpdate","translationX","translationY","onEnd","onFinalize","gestureDisabled","gesture","useMemo","style","useAnimatedStyle","justifyContent","alignItems","position","zIndex","toFixed","borderWidth","backgroundColor","boxSize","width","height","transform","underlay","translation","borderRadius","createElement","Fragment","View","GestureDetector","ChessPiece","prev","next","_default","exports"],"sourceRoot":"../../../../src","sources":["components/piece/index.tsx"],"mappings":";;;;;;AACA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AAMA,IAAAC,0BAAA,GAAAD,OAAA;AACA,IAAAE,sBAAA,GAAAH,uBAAA,CAAAC,OAAA;AAOA,IAAAG,MAAA,GAAAH,OAAA;AACA,IAAAI,OAAA,GAAAJ,OAAA;AACA,IAAAK,OAAA,GAAAL,OAAA;AACA,IAAAM,OAAA,GAAAN,OAAA;AACA,IAAAO,OAAA,GAAAP,OAAA;AACA,IAAAQ,SAAA,GAAAR,OAAA;AAGA,IAAAS,YAAA,GAAAT,OAAA;AAA4C,SAAAU,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAZ,wBAAAY,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAc5C,MAAMY,KAAK,gBAAGC,cAAK,CAACC,IAAI,eACtBD,cAAK,CAACE,UAAU,CACd,CAAC;EAAEC,EAAE;EAAEC,aAAa;EAAEC,MAAM;EAAEC;AAAK,CAAC,EAAEC,GAAG,KAAK;EAC5C,MAAMC,KAAK,GAAG,IAAAC,sBAAc,EAAC,CAAC;EAC9B,MAAMC,IAAI,GAAG,IAAAC,oBAAY,EAAC,CAAC;EAC3B,MAAMC,YAAY,GAAG,IAAAC,qCAAc,EAAC,IAAI,CAAC;EACzC,MAAM;IAAEC;EAAY,CAAC,GAAG,IAAAC,yBAAiB,EAAC,CAAC;EAC3C,MAAM;IACJC,aAAa;IACbC,MAAM;IACNC,cAAc;IACdC,IAAI;IACJC,wBAAwB;IACxBC;EACF,CAAC,GAAG,IAAAC,0BAAkB,EAAC,CAAC;EAExB,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAG,IAAAC,eAAQ,EAAU,KAAK,CAAC;EAElE,MAAM;IACJC,SAAS;IACTC,SAAS,EAAE;MAAEC,IAAI,EAAEC;IAAa,CAAC;IACjCC,cAAc,EAAEC,iCAAiC;IACjDC;EACF,CAAC,GAAG,IAAAC,yBAAkB,EAAC,CAAC;EAExB,MAAMH,cAAc,GAAG,IAAAI,sCAAe,EACpC,MACEf,IAAI,CAACgB,KAAK,KAAKhC,EAAE,CAACiC,MAAM,CAAC,CAAC,CAAC,IAC3BjB,IAAI,CAACgB,KAAK,KAAKH,YAAY,IAC3BD,iCAAiC,EACnC,CAAC5B,EAAE,EAAE4B,iCAAiC,CACxC,CAAC;EAED,MAAM;IAAEM,UAAU;IAAEC;EAAc,CAAC,GAAG,IAAAC,iCAAuB,EAAC,CAAC;EAE/D,MAAMC,eAAe,GAAG,IAAA3B,qCAAc,EAAC,KAAK,CAAC;EAC7C,MAAM4B,OAAO,GAAG,IAAA5B,qCAAc,EAAC,CAAC,CAAC;EACjC,MAAM6B,OAAO,GAAG,IAAA7B,qCAAc,EAAC,CAAC,CAAC;EACjC,MAAM8B,WAAW,GAAG,IAAA9B,qCAAc,EAAC,CAAC,CAAC;EACrC,MAAM+B,UAAU,GAAG,IAAA/B,qCAAc,EAACT,aAAa,CAACyC,CAAC,GAAGvC,IAAI,CAAC;EACzD,MAAMwC,UAAU,GAAG,IAAAjC,qCAAc,EAACT,aAAa,CAAC2C,CAAC,GAAGzC,IAAI,CAAC;EAEzD,MAAM0C,YAAY,GAAG,IAAAC,kBAAW,EAC9B,CAACC,IAAY,EAAEC,EAAU,KAAK;IAC5B,OAAO3C,KAAK,CACT4C,KAAK,CAAC;MAAEC,OAAO,EAAE;IAAK,CAAC,CAAC,CACxBC,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACL,IAAI,KAAKA,IAAI,IAAIK,CAAC,CAACJ,EAAE,KAAKA,EAAE,CAAC;EAChD,CAAC,EACD,CAAC3C,KAAK,CACR,CAAC;EAED,MAAMgD,wBAAwB,GAAG,IAAAP,kBAAW,EAC1C,CAAC;IAAErB;EAAqB,CAAC,KAAK;IAC5BX,MAAM,CAACW,IAAI,CAACsB,IAAI,EAAEtB,IAAI,CAACuB,EAAE,CAAC;EAC5B,CAAC,EACD,CAAClC,MAAM,CACT,CAAC;EAED,MAAMwC,MAAM,GAAG,IAAAR,kBAAW,EACxB,CAACC,IAAY,EAAEC,EAAU,KAAK;IAC5B,OAAO,IAAIO,OAAO,CAAoBC,OAAO,IAAK;MAChD,MAAM/B,IAAI,GAAGoB,YAAY,CAACE,IAAI,EAAEC,EAAE,CAAC;MACnC,MAAM;QAAEN,CAAC;QAAEE;MAAE,CAAC,GAAGT,aAAa,CAACV,IAAI,GAAGA,IAAI,CAACuB,EAAE,GAAGD,IAAI,CAAC;MACrDN,UAAU,CAACT,KAAK,GAAG,IAAAyB,iCAAU,EAACf,CAAC,EAAE;QAAEgB,QAAQ,EAAEhC;MAAa,CAAC,EAAE,MAAM;QACjEY,OAAO,CAACN,KAAK,GAAGS,UAAU,CAACT,KAAK;MAClC,CAAC,CAAC;MACFW,UAAU,CAACX,KAAK,GAAG,IAAAyB,iCAAU,EAC3Bb,CAAC,EACD;QAAEc,QAAQ,EAAEhC;MAAa,CAAC,EACzBiC,UAAU,IAAK;QACd,IAAI,CAACA,UAAU,EAAE;QACjBpB,OAAO,CAACP,KAAK,GAAGW,UAAU,CAACX,KAAK;QAChCK,eAAe,CAACL,KAAK,GAAG,KAAK;QAC7B,IAAIP,IAAI,EAAE;UACR,IAAAmC,8BAAO,EAACP,wBAAwB,CAAC,CAAC;YAAE5B;UAAK,CAAC,CAAC;UAC3C;UACA;UACA;UACA;UACA;UACA,IAAAmC,8BAAO,EAACJ,OAAO,CAAC,CAAC/B,IAAI,CAAC;QACxB,CAAC,MAAM;UACL,IAAAmC,8BAAO,EAACJ,OAAO,CAAC,CAACK,SAAS,CAAC;QAC7B;MACF,CACF,CAAC;IACH,CAAC,CAAC;EACJ,CAAC,EACD,CACExB,eAAe,EACfX,YAAY,EACZY,OAAO,EACPC,OAAO,EACPJ,aAAa,EACbM,UAAU,EACVE,UAAU,EACVE,YAAY,EACZQ,wBAAwB,CAE5B,CAAC;EAED,MAAMS,SAAS,GAAG,IAAAhB,kBAAW,EAC1BE,EAAU,IAAK;IACd,MAAMD,IAAI,GAAGb,UAAU,CAAC;MAAEQ,CAAC,EAAEJ,OAAO,CAACN,KAAK;MAAEY,CAAC,EAAEL,OAAO,CAACP;IAAM,CAAC,CAAC;IAC/DsB,MAAM,CAACP,IAAI,EAAEC,EAAE,CAAC;EAClB,CAAC,EACD,CAACM,MAAM,EAAEhB,OAAO,CAACN,KAAK,EAAEO,OAAO,CAACP,KAAK,EAAEE,UAAU,CACnD,CAAC;EAED,IAAA6B,0BAAmB,EACjB3D,GAAG,EACH,MAAM;IACJ,OAAO;MACLkD,MAAM,EAAGN,EAAU,IAAK;QACtB,OAAOM,MAAM,CAACpD,MAAM,EAAE8C,EAAE,CAAC;MAC3B,CAAC;MACDgB,MAAM,EAAGC,MAAe,IAAK;QAC3BxD,YAAY,CAACuB,KAAK,GAAGiC,MAAM;MAC7B;IACF,CAAC;EACH,CAAC,EACD,CAACX,MAAM,EAAE7C,YAAY,EAAEP,MAAM,CAC/B,CAAC;EAED,MAAMgE,UAAU,GAAG,IAAApB,kBAAW;EAC5B;EACC5C,MAAc,IAAK;IAClB,SAAS;;IACT,IAAI,CAACW,aAAa,EAAE;MAClB;IACF;IACA,IAAA+C,8BAAO,EAAC/C,aAAa,CAAC,CAACX,MAAM,CAAC;EAChC,CAAC,EACD,CAACW,aAAa,CAChB,CAAC;EAED,MAAMsD,YAAY,GAAG,IAAArB,kBAAW,EAC7BrB,IAAU,IAAK;IACdlB,IAAI,EAAE6D,OAAO,GAAG3C,IAAI,CAACsB,IAAI,CAAC,CAACqB,OAAO,EAAEd,MAAM,GAAG7B,IAAI,CAACuB,EAAE,CAAC;EACvD,CAAC,EACD,CAACzC,IAAI,CACP,CAAC;EAED,MAAM8D,aAAa,GAAG,IAAAvB,kBAAW,EAAC,MAAM;IACtC,MAAMwB,aAAa,GAAGpC,UAAU,CAAC;MAC/BQ,CAAC,EAAED,UAAU,CAACT,KAAK;MACnBY,CAAC,EAAED,UAAU,CAACX;IAChB,CAAC,CAAC;IAEF,MAAMuC,oBAAoB,GAAGxD,cAAc,CAACiB,KAAK;IACjD,MAAMP,IAAI,GACR8C,oBAAoB,IACpB1B,YAAY,CAAC0B,oBAAoB,EAAED,aAAa,CAAC;IAEnD,IAAI7C,IAAI,EAAE;MACR,IAAAmC,8BAAO,EAACO,YAAY,CAAC,CAAC1C,IAAI,CAAC;MAC3B;IACF;IACA,IAAI,CAACE,cAAc,CAACK,KAAK,EAAE;IAC3BQ,WAAW,CAACR,KAAK,GAAG,IAAAyB,iCAAU,EAAC,CAAC,CAAC;IACjCS,UAAU,CAAChE,MAAM,CAAC;EACpB,CAAC,EAAE,CACDsC,WAAW,EACXb,cAAc,CAACK,KAAK,EACpBmC,YAAY,EACZD,UAAU,EACVnD,cAAc,CAACiB,KAAK,EACpB9B,MAAM,EACNgC,UAAU,EACVO,UAAU,CAACT,KAAK,EAChBW,UAAU,CAACX,KAAK,EAChBa,YAAY,CACb,CAAC;EAEF,MAAM2B,eAAe,GAAGC,kCAAO,CAACC,GAAG,CAAC,CAAC,CAClCC,OAAO,CAAC,CAAChE,WAAW,IAAIF,YAAY,CAACuB,KAAK,CAAC,CAC3C4C,OAAO,CAAC,MAAM;IACb,IAAAhB,8BAAO,EAACvC,gBAAgB,CAAC,CAAC,IAAI,CAAC;IAC/B,IAAAuC,8BAAO,EAAC1C,2BAA2B,CAAC,CAAC,IAAI,CAAC;IAC1CoB,OAAO,CAACN,KAAK,GAAGS,UAAU,CAACT,KAAK;IAChCO,OAAO,CAACP,KAAK,GAAGW,UAAU,CAACX,KAAK;IAChC,IAAA4B,8BAAO,EAACS,aAAa,CAAC,CAAC,CAAC;EAC1B,CAAC,CAAC,CACDQ,OAAO,CAAC,MAAM;IACb,IAAI,CAAClD,cAAc,CAACK,KAAK,EAAE;IAC3BK,eAAe,CAACL,KAAK,GAAG,IAAI;EAC9B,CAAC,CAAC,CACD8C,QAAQ,CAAC,CAAC;IAAEC,YAAY;IAAEC;EAAa,CAAC,KAAK;IAC5C,IAAI,CAACrD,cAAc,CAACK,KAAK,EAAE;IAC3BS,UAAU,CAACT,KAAK,GAAGM,OAAO,CAACN,KAAK,GAAG+C,YAAY;IAC/CpC,UAAU,CAACX,KAAK,GAAGO,OAAO,CAACP,KAAK,GAAGgD,YAAY;EACjD,CAAC,CAAC,CACDC,KAAK,CAAC,MAAM;IACX,IAAI,CAACtD,cAAc,CAACK,KAAK,EAAE;IAC3B,IAAA4B,8BAAO,EAACE,SAAS,CAAC,CAChB5B,UAAU,CAAC;MAAEQ,CAAC,EAAED,UAAU,CAACT,KAAK;MAAEY,CAAC,EAAED,UAAU,CAACX;IAAM,CAAC,CACzD,CAAC;EACH,CAAC,CAAC,CACDkD,UAAU,CAAC,MAAM;IAChB,IAAAtB,8BAAO,EAACvC,gBAAgB,CAAC,CAAC,KAAK,CAAC;IAChC,IAAAuC,8BAAO,EAAC1C,2BAA2B,CAAC,CAAC,KAAK,CAAC;IAC3CsB,WAAW,CAACR,KAAK,GAAG,IAAAyB,iCAAU,EAAC,CAAC,CAAC;EACnC,CAAC,CAAC;EAEJ,MAAM0B,eAAe,GAAGV,kCAAO,CAACC,GAAG,CAAC,CAAC,CAACC,OAAO,CAAC,KAAK,CAAC;EAEpD,MAAMS,OAAO,GAAG,IAAAC,cAAO,EAAC,MAAM;IAC5B,IAAIpE,wBAAwB,IAAI,CAACG,aAAa,EAAE;MAC9C,OAAO+D,eAAe;IACxB;IAEA,OAAOX,eAAe;EACxB,CAAC,EAAE,CACDvD,wBAAwB,EACxBG,aAAa,EACboD,eAAe,EACfW,eAAe,CAChB,CAAC;EAEF,MAAMG,KAAK,GAAG,IAAAC,uCAAgB,EAAC,MAAM;IACnC,OAAO;MACLC,cAAc,EAAE,QAAQ;MACxBC,UAAU,EAAE,QAAQ;MACpBC,QAAQ,EAAE,UAAU;MACpBC,MAAM,EAAE5E,cAAc,CAACiB,KAAK,GAAG,GAAG,GAAG,EAAE;MACvCQ,WAAW,EACTzB,cAAc,CAACiB,KAAK,KAAK9B,MAAM,GAC1B,qBAAoBsC,WAAW,CAACR,KAAK,CAAC4D,OAAO,CAAC,CAAC,CAAE,GAAE,GACpD,aAAa;MACnBC,WAAW,EAAE,CAAC;MACdC,eAAe,EACb/E,cAAc,CAACiB,KAAK,KAAK9B,MAAM,IAAI,CAACmC,eAAe,CAACL,KAAK,GACpD,sBAAqB,CAACQ,WAAW,CAACR,KAAK,GAAG,CAAC,EAAE4D,OAAO,CAAC,CAAC,CAAE,GAAE,GAC3D,aAAa;MACnBG,OAAO,EAAE,YAAY;MACrBC,KAAK,EAAEzE,SAAS;MAChB0E,MAAM,EAAE1E,SAAS;MACjB2E,SAAS,EAAE,CACT;QAAEzD,UAAU,EAAEA,UAAU,CAACT;MAAM,CAAC,EAChC;QAAEW,UAAU,EAAEA,UAAU,CAACX;MAAM,CAAC;IAEpC,CAAC;EACH,CAAC,EAAE,CAACjB,cAAc,CAACiB,KAAK,CAAC,CAAC;EAE1B,MAAMmE,QAAQ,GAAG,IAAAZ,uCAAgB,EAAC,MAAM;IACtC,MAAMG,QAAQ,GAAGxD,UAAU,CAAC;MAC1BQ,CAAC,EAAED,UAAU,CAACT,KAAK;MACnBY,CAAC,EAAED,UAAU,CAACX;IAChB,CAAC,CAAC;IACF,MAAMoE,WAAW,GAAGjE,aAAa,CAACuD,QAAQ,CAAC;IAC3C,OAAO;MACLA,QAAQ,EAAE,UAAU;MACpBM,KAAK,EAAE7F,IAAI,GAAG,CAAC;MACf8F,MAAM,EAAE9F,IAAI,GAAG,CAAC;MAChBkG,YAAY,EAAElG,IAAI;MAClBwF,MAAM,EAAE,CAAC;MACTG,eAAe,EAAE,aAAa;MAC9BI,SAAS,EAAE,CACT;QAAEzD,UAAU,EAAE2D,WAAW,CAAC1D,CAAC,GAAGvC,IAAI,GAAG;MAAE,CAAC,EACxC;QAAEwC,UAAU,EAAEyD,WAAW,CAACxD,CAAC,GAAGzC,IAAI,GAAG;MAAE,CAAC;IAE5C,CAAC;EACH,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC;EAEV,oBACExC,MAAA,CAAAkB,OAAA,CAAAyH,aAAA,CAAA3I,MAAA,CAAAkB,OAAA,CAAA0H,QAAA,qBACE5I,MAAA,CAAAkB,OAAA,CAAAyH,aAAA,CAACvI,sBAAA,CAAAc,OAAQ,CAAC2H,IAAI;IAAClB,KAAK,EAAEa;EAAS,CAAE,CAAC,eAClCxI,MAAA,CAAAkB,OAAA,CAAAyH,aAAA,CAACxI,0BAAA,CAAA2I,eAAe;IAACrB,OAAO,EAAEA;EAAQ,gBAChCzH,MAAA,CAAAkB,OAAA,CAAAyH,aAAA,CAACvI,sBAAA,CAAAc,OAAQ,CAAC2H,IAAI;IAAClB,KAAK,EAAEA;EAAM,gBAC1B3H,MAAA,CAAAkB,OAAA,CAAAyH,aAAA,CAAChI,YAAA,CAAAoI,UAAU;IAAC1G,EAAE,EAAEA;EAAG,CAAE,CACR,CACA,CACjB,CAAC;AAEP,CACF,CAAC,EACD,CAAC2G,IAAI,EAAEC,IAAI,KACTD,IAAI,CAAC3G,EAAE,KAAK4G,IAAI,CAAC5G,EAAE,IACnB2G,IAAI,CAACxG,IAAI,KAAKyG,IAAI,CAACzG,IAAI,IACvBwG,IAAI,CAACzG,MAAM,KAAK0G,IAAI,CAAC1G,MACzB,CAAC;AAAC,IAAA2G,QAAA,GAAAC,OAAA,CAAAjI,OAAA,GAEae,KAAK"}
